# AutoMovie 页面文档

## 概述

本文档详细介绍 AutoMovie 项目中所有页面的功能、交互逻辑和用户体验。每个页面都像是一个专门的工作台，为用户提供特定的功能和服务。

## 页面架构说明

### 基础模板 (base.html)

#### 页面作用
`base.html` 是所有页面的基础模板，就像房子的框架，定义了网站的整体布局和通用功能。

#### 主要组成部分

**1. 页面头部 (Header)**
- **网站标题**：显示 "AutoMovie" 品牌名称
- **导航菜单**：包含所有主要功能页面的链接
- **当前项目显示**：显示用户当前打开的项目名称

**2. 侧边导航栏**
- **项目管理**：创建、打开、管理项目
- **文案生成**：AI 文案创作功能
- **图片生成**：AI 图像生成功能
- **语音生成**：文字转语音功能
- **视频制作**：视频拼接和编辑
- **自动视频**：一键生成完整视频
- **系统设置**：配置 API 和系统参数

**3. 主内容区域**
- **页面标题**：显示当前页面的名称
- **页面描述**：简要说明当前页面的功能
- **内容区域**：各个页面的具体内容

**4. 页面底部 (Footer)**
- **版权信息**：项目版权声明
- **技术信息**：使用的主要技术栈

#### 通用交互功能

**导航高亮**
- 当前页面在导航菜单中会高亮显示
- 用户可以清楚知道自己在哪个页面

**响应式设计**
- 支持不同屏幕尺寸的设备
- 在手机、平板、电脑上都能正常使用

**项目状态显示**
- 实时显示当前打开的项目
- 如果没有项目，会提示用户创建或打开项目

## 主要功能页面

### 1. 首页 (index.html)

#### 页面功能
首页是用户进入网站后看到的第一个页面，就像产品的说明书，介绍整个系统的功能和使用方法。

#### 页面内容

**项目介绍区域**
- **功能概述**：简要介绍 AutoMovie 的主要功能
- **特色亮点**：突出显示系统的独特优势
- **使用流程**：图文并茂地展示视频制作的基本步骤

**快速开始区域**
- **新手指引**：为初次使用的用户提供操作指导
- **示例展示**：展示系统生成的示例视频
- **常见问题**：回答用户可能遇到的问题

#### 交互功能

**动态内容加载**
- 页面内容从 README.md 文件动态加载
- 支持 Markdown 格式的富文本显示
- 内容更新无需修改代码

**快速导航**
- 提供到各个功能页面的快速链接
- 新用户可以快速找到需要的功能

#### 用户体验设计

**信息层次清晰**
- 重要信息优先显示
- 使用不同的字体大小和颜色区分信息重要性

**视觉友好**
- 使用图标和图片增强视觉效果
- 避免大段文字，提高可读性

### 2. 项目管理页面 (project.html)

#### 页面功能
项目管理页面是用户的工作台，就像文件管理器，让用户可以创建、打开、管理自己的视频项目。

#### 主要功能区域

**1. 项目创建区域**
- **项目名称输入框**：用户输入新项目的名称
- **创建按钮**：点击创建新项目
- **命名规则提示**：告诉用户项目命名的要求

**2. 项目列表区域**
- **项目卡片**：以卡片形式显示每个项目
  - 项目名称
  - 创建时间
  - 项目状态（进行中/已完成）
  - 文件数量统计
- **操作按钮**：
  - 打开项目
  - 删除项目
  - 导出项目

**3. 当前项目信息区域**
- **项目详情**：显示当前打开项目的详细信息
- **文件统计**：显示项目中的文件数量
  - 文案文件数
  - 图片文件数
  - 音频文件数
  - 视频文件数
- **项目操作**：
  - 关闭当前项目
  - 清理项目文件
  - 备份项目

#### 交互逻辑

**项目创建流程**
1. 用户输入项目名称
2. 系统检查名称是否合法（不能为空、不能重复）
3. 创建项目文件夹和配置文件
4. 自动打开新创建的项目
5. 跳转到文案生成页面开始工作

**项目切换流程**
1. 用户点击项目卡片的"打开"按钮
2. 系统保存当前项目状态
3. 切换到新项目
4. 更新导航栏的项目显示
5. 刷新相关页面的内容

**项目删除流程**
1. 用户点击删除按钮
2. 系统弹出确认对话框
3. 用户确认后删除项目文件夹
4. 如果删除的是当前项目，自动关闭项目
5. 刷新项目列表

#### 数据展示

**实时统计**
- 项目总数
- 当前项目的文件统计
- 磁盘空间使用情况

**状态指示**
- 项目是否有未保存的更改
- 项目的完成度（有多少步骤已完成）
- 最近访问时间

### 3. 文案生成页面 (text_gen.html)

#### 页面功能
文案生成页面是 AI 写作助手，帮助用户从一个简单的主题创作出完整的视频脚本。

#### 功能区域划分

**1. 第一句话生成区域**
- **主题输入框**：用户输入视频主题或关键词
- **Prompt 选择器**：选择不同的创作风格
  - 正式风格
  - 轻松风格
  - 专业风格
  - 创意风格
- **生成按钮**：AI 生成吸引人的开头句
- **结果显示区**：显示生成的第一句话
- **重新生成按钮**：如果不满意可以重新生成

**2. 完整文案生成区域**
- **第一句话确认**：显示用户选定的开头句
- **文案长度设置**：选择文案的目标长度
  - 短文案（30秒视频）
  - 中等文案（1分钟视频）
  - 长文案（3分钟视频）
- **生成参数设置**：
  - 创作风格
  - 目标受众
  - 内容重点
- **生成按钮**：基于第一句话扩展完整文案
- **文案显示区**：显示生成的完整文案

**3. 文案编辑区域**
- **文本编辑器**：用户可以手动修改文案
- **格式化工具**：
  - 段落分割
  - 句子标记
  - 重点突出
- **保存按钮**：保存修改后的文案
- **格式化按钮**：将文案转换为视频制作格式

**4. Prompt 管理区域**
- **Prompt 列表**：显示所有可用的创作模板
- **添加 Prompt**：用户可以创建自定义模板
- **编辑 Prompt**：修改现有模板
- **删除 Prompt**：移除不需要的模板

#### 交互流程

**标准创作流程**
1. 用户输入视频主题
2. 选择合适的创作风格
3. AI 生成多个开头句选项
4. 用户选择最满意的开头句
5. 设置文案参数（长度、风格等）
6. AI 生成完整文案
7. 用户编辑和完善文案
8. 格式化文案为视频制作格式
9. 保存到项目文件

**高级编辑流程**
1. 加载已有文案
2. 使用编辑器修改内容
3. 实时预览格式化效果
4. 保存修改

#### 智能功能

**内容建议**
- 根据主题推荐相关关键词
- 提示可能的内容方向
- 建议合适的文案长度

**质量检查**
- 检查文案是否适合视频制作
- 提示可能的问题（太长、太短、缺少重点等）
- 建议改进方向

**自动保存**
- 定期自动保存用户的编辑内容
- 防止意外丢失工作成果

### 4. 图片生成页面 (image_gen.html)

#### 页面功能
图片生成页面是 AI 画师工作室，根据文案内容自动生成配套的图片素材。

#### 功能区域

**1. 文案预览区域**
- **句子列表**：显示文案中的每一句话
- **句子选择**：用户可以选择为哪句话生成图片
- **内容预览**：显示选中句子的完整内容
- **生成状态**：显示每句话的图片生成状态

**2. 生成参数设置区域**
- **图片风格选择**：
  - 写实风格
  - 卡通风格
  - 艺术风格
  - 科技风格
- **图片尺寸设置**：
  - 16:9 横屏（推荐）
  - 9:16 竖屏
  - 1:1 正方形
- **质量设置**：
  - 快速生成（较低质量）
  - 标准质量
  - 高质量（较慢）
- **数量设置**：每句话生成几张图片供选择

**3. 图片生成控制区域**
- **单句生成按钮**：为选中的句子生成图片
- **批量生成按钮**：为所有句子生成图片
- **停止生成按钮**：中断正在进行的生成任务
- **进度显示**：显示生成进度和预计剩余时间

**4. 图片管理区域**
- **图片预览网格**：以缩略图形式显示所有生成的图片
- **图片详情**：点击图片查看大图和详细信息
- **图片操作**：
  - 下载图片
  - 删除图片
  - 设为该句子的主图
  - 重新生成
- **批量操作**：
  - 全选/取消全选
  - 批量删除
  - 批量下载

**5. 自定义上传区域**
- **文件上传**：用户可以上传自己的图片
- **图片编辑**：简单的裁剪和调整功能
- **替换功能**：用自定义图片替换 AI 生成的图片

#### 交互逻辑

**图片生成流程**
1. 系统自动加载当前项目的文案
2. 用户选择要生成图片的句子
3. 设置生成参数（风格、尺寸、质量）
4. 点击生成按钮
5. 系统发送请求到 ComfyUI 服务
6. 实时显示生成进度
7. 生成完成后显示图片预览
8. 用户选择满意的图片
9. 保存到项目文件夹

**图片管理流程**
1. 显示项目中所有图片
2. 按句子分组显示
3. 用户可以预览、选择、删除图片
4. 支持拖拽排序
5. 自动保存用户的选择

#### 智能功能

**内容分析**
- 自动分析句子内容，提取关键视觉元素
- 根据内容推荐合适的图片风格
- 识别场景类型（室内/室外、人物/风景等）

**质量优化**
- 自动调整生成参数以获得最佳效果
- 检测生成失败的情况并自动重试
- 提供图片质量评估和改进建议

**批量处理**
- 支持一键为所有句子生成图片
- 智能队列管理，避免服务器过载
- 断点续传，支持中断后继续生成

### 5. 语音生成页面 (audio_gen.html)

#### 页面功能
语音生成页面是 AI 配音工作室，将文字内容转换为自然流畅的语音旁白。

#### 功能区域

**1. 文案内容区域**
- **句子列表**：显示文案中的每一句话
- **文本预览**：显示选中句子的完整文本
- **字数统计**：显示每句话的字数和预计语音时长
- **生成状态**：显示每句话的语音生成状态

**2. 语音参数设置区域**
- **声音选择**：
  - 男声/女声
  - 不同年龄段的声音
  - 不同风格的声音（正式/轻松/专业）
- **语速设置**：
  - 慢速（适合教学）
  - 正常速度
  - 快速（适合快节奏内容）
- **音调设置**：
  - 低音调
  - 标准音调
  - 高音调
- **情感设置**：
  - 平静
  - 兴奋
  - 严肃
  - 友好

**3. 生成控制区域**
- **单句生成按钮**：为选中的句子生成语音
- **批量生成按钮**：为所有句子生成语音
- **试听按钮**：预览生成的语音效果
- **停止按钮**：中断正在进行的生成
- **进度显示**：显示生成进度和队列状态

**4. 音频管理区域**
- **音频列表**：显示所有生成的音频文件
- **播放控制**：
  - 播放/暂停
  - 音量调节
  - 播放进度控制
- **音频信息**：
  - 文件大小
  - 音频时长
  - 生成时间
- **音频操作**：
  - 下载音频
  - 删除音频
  - 重新生成
  - 音频编辑

**5. 音频处理区域**
- **静音处理**：自动去除音频前后的静音
- **音量标准化**：统一所有音频的音量
- **停顿设置**：
  - 句子间停顿时长
  - 段落间停顿时长
- **背景音乐**：
  - 添加背景音乐
  - 调节背景音乐音量
  - 选择背景音乐类型

#### 交互逻辑

**语音生成流程**
1. 加载项目文案内容
2. 用户选择要生成语音的句子
3. 设置语音参数（声音、语速、情感等）
4. 点击生成按钮
5. 系统调用语音合成 API
6. 实时显示生成进度
7. 生成完成后自动播放预览
8. 用户确认后保存到项目

**音频编辑流程**
1. 选择要编辑的音频文件
2. 使用内置编辑器调整音频
3. 实时预览编辑效果
4. 保存编辑后的音频

#### 智能功能

**语音优化**
- 自动检测文本中的标点符号，调整语音停顿
- 识别专业术语，确保正确发音
- 根据内容类型自动推荐合适的语音风格

**质量控制**
- 自动检测生成的语音质量
- 发现问题时自动重新生成
- 提供语音质量评分和改进建议

**批量处理**
- 支持一键生成所有句子的语音
- 智能队列管理，按优先级处理
- 支持后台生成，用户可以继续其他操作

### 6. 视频制作页面 (video_maker.html)

#### 页面功能
视频制作页面是专业的视频编辑工作台，将图片、音频、字幕组合成完整的视频作品。

#### 功能区域

**1. 素材管理区域**
- **图片素材**：显示项目中所有可用的图片
- **音频素材**：显示项目中所有可用的音频
- **字幕内容**：显示文案中的文字内容
- **素材状态**：显示每个素材的使用状态

**2. 时间轴编辑区域**
- **视频轨道**：显示视频片段的时间轴
- **音频轨道**：显示音频片段的时间轴
- **字幕轨道**：显示字幕的时间轴
- **时间标尺**：显示精确的时间刻度
- **播放头**：显示当前播放位置

**3. 视频参数设置区域**
- **分辨率设置**：
  - 1080p (1920x1080)
  - 720p (1280x720)
  - 4K (3840x2160)
- **帧率设置**：
  - 24fps（电影级）
  - 30fps（标准）
  - 60fps（高流畅度）
- **编码设置**：
  - H.264（兼容性好）
  - H.265（文件更小）
- **质量设置**：
  - 快速编码
  - 标准质量
  - 高质量

**4. 特效设置区域**
- **转场效果**：
  - 淡入淡出
  - 滑动切换
  - 缩放切换
- **字幕样式**：
  - 字体选择
  - 颜色设置
  - 位置调整
  - 描边效果
- **图片效果**：
  - 缩放动画
  - 移动动画
  - 旋转效果

**5. 预览和导出区域**
- **视频预览窗口**：实时预览视频效果
- **播放控制**：播放、暂停、快进、快退
- **导出设置**：选择导出格式和质量
- **导出按钮**：开始视频渲染
- **进度显示**：显示渲染进度和预计时间

#### 交互逻辑

**视频制作流程**
1. 系统自动加载项目中的所有素材
2. 用户在时间轴上排列图片和音频
3. 系统自动同步图片显示时长和音频时长
4. 用户添加字幕和特效
5. 实时预览视频效果
6. 调整参数直到满意
7. 设置导出参数
8. 开始视频渲染
9. 渲染完成后保存到项目

**素材编辑流程**
1. 拖拽素材到时间轴
2. 调整素材的开始时间和持续时间
3. 设置素材的特效和动画
4. 实时预览效果
5. 保存编辑结果

#### 高级功能

**自动同步**
- 图片显示时长自动匹配对应音频时长
- 字幕自动与音频同步
- 支持手动微调同步偏移

**智能建议**
- 根据内容类型推荐合适的转场效果
- 分析音频节奏，建议图片切换时机
- 提供视频优化建议

**批量处理**
- 支持批量应用特效
- 批量调整素材属性
- 模板保存和应用

### 7. 自动视频生成页面 (auto_video.html)

#### 页面功能
自动视频生成页面是一键式视频工厂，用户只需要输入主题，系统就能自动完成从文案创作到视频制作的全部流程。

#### 功能区域

**1. 快速开始区域**
- **主题输入**：用户输入视频主题
- **风格选择**：选择视频的整体风格
  - 商务风格
  - 教育风格
  - 娱乐风格
  - 科技风格
- **时长选择**：选择目标视频时长
  - 30秒短视频
  - 1分钟标准视频
  - 3分钟长视频
- **一键生成按钮**：开始自动生成流程

**2. 生成进度区域**
- **流程步骤显示**：
  1. 文案生成中...
  2. 图片生成中...
  3. 语音生成中...
  4. 视频合成中...
- **当前步骤详情**：显示当前步骤的具体进度
- **预计剩余时间**：估算完成所需时间
- **取消按钮**：用户可以中断生成过程

**3. 实时预览区域**
- **文案预览**：显示生成的文案内容
- **图片预览**：显示生成的图片素材
- **音频预览**：播放生成的语音内容
- **视频预览**：显示最终的视频效果

**4. 结果管理区域**
- **生成历史**：显示之前的自动生成记录
- **结果评价**：用户可以对生成结果进行评分
- **重新生成**：对不满意的部分重新生成
- **手动优化**：跳转到对应页面进行手动编辑

**5. 高级设置区域**
- **生成参数**：
  - AI 模型选择
  - 创作风格偏好
  - 质量优先级
- **自定义模板**：
  - 保存常用的生成设置
  - 应用预设模板
- **批量生成**：
  - 同时生成多个版本
  - 不同风格的对比

#### 交互逻辑

**自动生成流程**
1. 用户输入主题和选择参数
2. 系统创建新项目（如果需要）
3. 调用文案生成 API 创作脚本
4. 并行调用图片生成和语音生成 API
5. 等待所有素材生成完成
6. 自动调用视频合成功能
7. 生成完成后通知用户
8. 提供预览和下载选项

**智能优化流程**
1. 分析生成结果的质量
2. 识别可能的问题（图片不匹配、语音不自然等）
3. 自动重新生成有问题的部分
4. 提供优化建议给用户

#### 智能功能

**内容理解**
- 深度分析用户输入的主题
- 自动提取关键信息和情感色彩
- 根据主题推荐最佳的创作参数

**质量保证**
- 多轮生成和筛选，确保内容质量
- 自动检测生成失败的情况
- 提供多个版本供用户选择

**学习优化**
- 记录用户的偏好和评价
- 不断优化生成算法
- 个性化推荐生成参数

### 8. 系统配置页面 (system_config.html)

#### 页面功能
系统配置页面是控制中心，让用户设置 API 密钥、服务器地址等系统级参数。

#### 功能区域

**1. API 配置区域**
- **文案生成 API**：
  - API 密钥输入
  - 服务器地址设置
  - 模型选择
  - 连接测试按钮
- **语音合成 API**：
  - API 密钥输入
  - 服务器地址设置
  - 声音库选择
  - 连接测试按钮
- **ComfyUI 设置**：
  - 服务器地址输入
  - 工作流文件选择
  - 连接测试按钮

**2. 系统参数区域**
- **默认设置**：
  - 默认视频分辨率
  - 默认音频质量
  - 默认生成数量
- **性能设置**：
  - 最大并发任务数
  - 缓存大小限制
  - 临时文件清理策略
- **安全设置**：
  - 文件上传限制
  - 访问权限控制

**3. 存储配置区域**
- **项目存储路径**：设置项目文件的存储位置
- **临时文件路径**：设置临时文件的存储位置
- **备份设置**：
  - 自动备份开关
  - 备份频率设置
  - 备份保留时间

**4. 日志和监控区域**
- **日志级别设置**：选择记录的日志详细程度
- **实时日志显示**：显示系统运行日志
- **性能监控**：
  - CPU 使用率
  - 内存使用率
  - 磁盘空间使用
- **错误报告**：显示系统错误和警告

#### 交互逻辑

**配置保存流程**
1. 用户修改配置参数
2. 系统验证参数的有效性
3. 测试 API 连接（如果是 API 配置）
4. 保存配置到 config.ini 文件
5. 重新加载相关服务
6. 显示保存成功消息

**连接测试流程**
1. 用户点击测试按钮
2. 系统使用当前配置尝试连接
3. 显示连接状态和响应时间
4. 如果失败，显示具体错误信息
5. 提供解决建议

#### 安全功能

**敏感信息保护**
- API 密钥在界面上部分隐藏
- 配置文件加密存储
- 访问日志记录

**配置验证**
- 参数格式检查
- 范围有效性验证
- 依赖关系检查

**备份恢复**
- 配置修改前自动备份
- 支持恢复到之前的配置
- 导入导出配置文件

## 页面间的数据流和交互

### 数据流向图

```
项目管理页面 ← → 所有功能页面
     ↓
文案生成页面 → 图片生成页面
     ↓              ↓
语音生成页面 ← → 视频制作页面
     ↓              ↓
自动视频页面 ← ← ← ← ←
```

### 页面间的协作

**项目状态同步**
- 所有页面都能感知当前项目的变化
- 项目切换时自动刷新相关内容
- 实时显示项目的完成状态

**数据共享**
- 文案在各个页面间共享
- 生成的素材在相关页面间同步
- 配置参数全局生效

**工作流引导**
- 完成一个步骤后自动提示下一步
- 提供快速跳转到相关页面的链接
- 显示整体进度和完成度

## 用户体验设计原则

### 1. 简单易用
- 界面布局清晰，功能分区明确
- 重要功能突出显示
- 减少用户的学习成本

### 2. 反馈及时
- 所有操作都有即时反馈
- 长时间操作显示进度
- 错误信息清晰明确

### 3. 容错性强
- 重要操作有确认机制
- 支持撤销和重做
- 自动保存防止数据丢失

### 4. 响应式设计
- 适配不同屏幕尺寸
- 触摸设备友好
- 键盘快捷键支持

### 5. 性能优化
- 页面加载速度快
- 大文件异步加载
- 智能缓存机制

这种页面设计确保了 AutoMovie 项目既功能强大又易于使用，为用户提供了流畅的视频制作体验。