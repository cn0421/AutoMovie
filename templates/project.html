{% extends 'base.html' %}
{% load static %}

{% block title %}é¡¹ç›®ç®¡ç† - AutoMovie{% endblock %}

{% block page_title %}é¡¹ç›®ç®¡ç†{% endblock %}
{% block page_description %}åˆ›å»ºæ–°é¡¹ç›®ã€ç®¡ç†ç°æœ‰é¡¹ç›®{% endblock %}

{% block content %}
<div class="project-management">
    <!-- å½“å‰é¡¹ç›®æ˜¾ç¤ºåŒºåŸŸ -->
    <div id="current-project-section" class="current-project-section">
        <h3 class="current-project-title">ğŸ“ å½“å‰é¡¹ç›®</h3>
        <div id="current-project-info" class="current-project-info">
            <div>
                <div class="current-project-name" id="current-project-name"></div>
                <div class="current-project-path" id="current-project-path"></div>
                <div class="current-project-time" id="current-project-time"></div>
            </div>
            <button type="button" class="btn close-project-btn" onclick="clearCurrentProject()">
                âŒ å…³é—­é¡¹ç›®
            </button>
        </div>
    </div>
    
    <!-- åˆ›å»ºæ–°é¡¹ç›®åŒºåŸŸ -->
    <div class="project-creation-area">
        <!-- å·¦ä¾§ï¼šåˆ›å»ºæ–°é¡¹ç›® -->
        <div class="create-project-section">
            <h3>ğŸ†• åˆ›å»ºæ–°é¡¹ç›®</h3>
            <form class="create-project-form">
                <div class="form-group">
                    <label for="project-name" class="form-label">é¡¹ç›®åç§°ï¼š</label>
                    <input type="text" id="project-name" name="project_name" 
                           class="form-input"
                           placeholder="è¯·è¾“å…¥é¡¹ç›®åç§°ï¼Œå¦‚ï¼šæˆ‘çš„ç¬¬ä¸€ä¸ªè§†é¢‘">
                </div>
                <div class="form-group">
                    <label for="project-desc" class="form-label">é¡¹ç›®æè¿°ï¼š</label>
                    <textarea id="project-desc" name="project_desc" 
                              class="form-textarea"
                              placeholder="ç®€å•æè¿°ä¸€ä¸‹è¿™ä¸ªè§†é¢‘é¡¹ç›®çš„å†…å®¹å’Œç›®æ ‡"></textarea>
                </div>
                <button type="submit" class="btn create-project-btn">
                    âœ¨ åˆ›å»ºé¡¹ç›®
                </button>
            </form>
        </div>
        
        <!-- å³ä¾§ï¼šæ‰“å¼€å·²æœ‰é¡¹ç›® -->
        <div class="open-project-section">
            <div class="project-actions">
                <h3>ğŸ“‚ æ‰“å¼€å·²æœ‰é¡¹ç›®</h3>
                <div>
                    <button type="button" onclick="openSelectedProject()" class="open-project-btn">æ‰“å¼€é¡¹ç›®</button>
                    <button type="button" onclick="refreshProjectList()" class="refresh-list-btn">åˆ·æ–°åˆ—è¡¨</button>
                </div>
            </div>
            <div class="project-list-container">
                <p style="margin-bottom: 10px;">é€‰æ‹©ä¸€ä¸ªç°æœ‰é¡¹ç›®æ¥æ‰“å¼€ï¼š</p>
                <div id="project-list" class="project-list">
                    <div class="loading-message">æ­£åœ¨åŠ è½½é¡¹ç›®åˆ—è¡¨...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- é¡¹ç›®ç»Ÿè®¡ -->
    <div class="project-statistics">
        <div class="stat-card total">
            <h4 class="stat-title total">æ€»é¡¹ç›®æ•°</h4>
            <div id="total-projects" class="stat-number total">0</div>
        </div>
        <div class="stat-card completed">
            <h4 class="stat-title completed">å·²å®Œæˆ</h4>
            <div id="completed-projects" class="stat-number completed">0</div>
        </div>
        <div class="stat-card ongoing">
            <h4 class="stat-title ongoing">è¿›è¡Œä¸­</h4>
            <div id="ongoing-projects" class="stat-number ongoing">0</div>
        </div>
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/pages/project-management.js' %}"></script>
{% endblock %}